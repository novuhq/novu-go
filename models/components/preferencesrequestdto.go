// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"errors"
	"fmt"
	"github.com/novuhq/novu-go/internal/utils"
)

type UserAllType string

const (
	UserAllTypeWorkflowPreferenceDto UserAllType = "WorkflowPreferenceDto"
)

// UserAll - A preference for the workflow. The values specified here will be used if no preference is specified for a channel.
type UserAll struct {
	WorkflowPreferenceDto *WorkflowPreferenceDto `queryParam:"inline" name:"all"`

	Type UserAllType
}

func CreateUserAllWorkflowPreferenceDto(workflowPreferenceDto WorkflowPreferenceDto) UserAll {
	typ := UserAllTypeWorkflowPreferenceDto

	return UserAll{
		WorkflowPreferenceDto: &workflowPreferenceDto,
		Type:                  typ,
	}
}

func (u *UserAll) UnmarshalJSON(data []byte) error {

	var workflowPreferenceDto WorkflowPreferenceDto = WorkflowPreferenceDto{}
	if err := utils.UnmarshalJSON(data, &workflowPreferenceDto, "", true, nil); err == nil {
		u.WorkflowPreferenceDto = &workflowPreferenceDto
		u.Type = UserAllTypeWorkflowPreferenceDto
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for UserAll", string(data))
}

func (u UserAll) MarshalJSON() ([]byte, error) {
	if u.WorkflowPreferenceDto != nil {
		return utils.MarshalJSON(u.WorkflowPreferenceDto, "", true)
	}

	return nil, errors.New("could not marshal union type UserAll: all fields are null")
}

type UserWorkflowPreferencesDto struct {
	// A preference for the workflow. The values specified here will be used if no preference is specified for a channel.
	All UserAll `json:"all"`
	// Preferences for different communication channels
	Channels map[string]ChannelPreferenceDto `json:"channels"`
}

func (u UserWorkflowPreferencesDto) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(u, "", false)
}

func (u *UserWorkflowPreferencesDto) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &u, "", false, []string{"all", "channels"}); err != nil {
		return err
	}
	return nil
}

func (u *UserWorkflowPreferencesDto) GetAll() UserAll {
	if u == nil {
		return UserAll{}
	}
	return u.All
}

func (u *UserWorkflowPreferencesDto) GetChannels() map[string]ChannelPreferenceDto {
	if u == nil {
		return map[string]ChannelPreferenceDto{}
	}
	return u.Channels
}

type UserType string

const (
	UserTypeUserWorkflowPreferencesDto UserType = "user_WorkflowPreferencesDto"
)

// User workflow preferences
type User struct {
	UserWorkflowPreferencesDto *UserWorkflowPreferencesDto `queryParam:"inline" name:"user"`

	Type UserType
}

func CreateUserUserWorkflowPreferencesDto(userWorkflowPreferencesDto UserWorkflowPreferencesDto) User {
	typ := UserTypeUserWorkflowPreferencesDto

	return User{
		UserWorkflowPreferencesDto: &userWorkflowPreferencesDto,
		Type:                       typ,
	}
}

func (u *User) UnmarshalJSON(data []byte) error {

	var userWorkflowPreferencesDto UserWorkflowPreferencesDto = UserWorkflowPreferencesDto{}
	if err := utils.UnmarshalJSON(data, &userWorkflowPreferencesDto, "", true, nil); err == nil {
		u.UserWorkflowPreferencesDto = &userWorkflowPreferencesDto
		u.Type = UserTypeUserWorkflowPreferencesDto
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for User", string(data))
}

func (u User) MarshalJSON() ([]byte, error) {
	if u.UserWorkflowPreferencesDto != nil {
		return utils.MarshalJSON(u.UserWorkflowPreferencesDto, "", true)
	}

	return nil, errors.New("could not marshal union type User: all fields are null")
}

type PreferencesRequestDtoAllType string

const (
	PreferencesRequestDtoAllTypeWorkflowPreferenceDto PreferencesRequestDtoAllType = "WorkflowPreferenceDto"
)

// PreferencesRequestDtoAll - A preference for the workflow. The values specified here will be used if no preference is specified for a channel.
type PreferencesRequestDtoAll struct {
	WorkflowPreferenceDto *WorkflowPreferenceDto `queryParam:"inline" name:"all"`

	Type PreferencesRequestDtoAllType
}

func CreatePreferencesRequestDtoAllWorkflowPreferenceDto(workflowPreferenceDto WorkflowPreferenceDto) PreferencesRequestDtoAll {
	typ := PreferencesRequestDtoAllTypeWorkflowPreferenceDto

	return PreferencesRequestDtoAll{
		WorkflowPreferenceDto: &workflowPreferenceDto,
		Type:                  typ,
	}
}

func (u *PreferencesRequestDtoAll) UnmarshalJSON(data []byte) error {

	var workflowPreferenceDto WorkflowPreferenceDto = WorkflowPreferenceDto{}
	if err := utils.UnmarshalJSON(data, &workflowPreferenceDto, "", true, nil); err == nil {
		u.WorkflowPreferenceDto = &workflowPreferenceDto
		u.Type = PreferencesRequestDtoAllTypeWorkflowPreferenceDto
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for PreferencesRequestDtoAll", string(data))
}

func (u PreferencesRequestDtoAll) MarshalJSON() ([]byte, error) {
	if u.WorkflowPreferenceDto != nil {
		return utils.MarshalJSON(u.WorkflowPreferenceDto, "", true)
	}

	return nil, errors.New("could not marshal union type PreferencesRequestDtoAll: all fields are null")
}

// PreferencesRequestDtoWorkflow - Workflow-specific preferences
type PreferencesRequestDtoWorkflow struct {
	// A preference for the workflow. The values specified here will be used if no preference is specified for a channel.
	All PreferencesRequestDtoAll `json:"all"`
	// Preferences for different communication channels
	Channels map[string]ChannelPreferenceDto `json:"channels"`
}

func (p *PreferencesRequestDtoWorkflow) GetAll() PreferencesRequestDtoAll {
	if p == nil {
		return PreferencesRequestDtoAll{}
	}
	return p.All
}

func (p *PreferencesRequestDtoWorkflow) GetChannels() map[string]ChannelPreferenceDto {
	if p == nil {
		return map[string]ChannelPreferenceDto{}
	}
	return p.Channels
}

type PreferencesRequestDto struct {
	// User workflow preferences
	User *User `json:"user,omitempty"`
	// Workflow-specific preferences
	Workflow *PreferencesRequestDtoWorkflow `json:"workflow,omitempty"`
}

func (p *PreferencesRequestDto) GetUser() *User {
	if p == nil {
		return nil
	}
	return p.User
}

func (p *PreferencesRequestDto) GetWorkflow() *PreferencesRequestDtoWorkflow {
	if p == nil {
		return nil
	}
	return p.Workflow
}
