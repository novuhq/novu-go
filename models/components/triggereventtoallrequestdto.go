// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"errors"
	"fmt"
	"github.com/novuhq/novu-go/v3/internal/utils"
)

// TriggerEventToAllRequestDtoChannels - Channel-specific overrides that apply to all steps of a particular channel type. Step-level overrides take precedence over channel-level overrides.
type TriggerEventToAllRequestDtoChannels struct {
	// Email channel specific overrides
	Email *EmailChannelOverrides `json:"email,omitempty"`
}

func (t *TriggerEventToAllRequestDtoChannels) GetEmail() *EmailChannelOverrides {
	if t == nil {
		return nil
	}
	return t.Email
}

// TriggerEventToAllRequestDtoOverrides - This could be used to override provider specific configurations
type TriggerEventToAllRequestDtoOverrides struct {
	// This could be used to override provider specific configurations or layout at the step level
	Steps map[string]StepsOverrides `json:"steps,omitempty"`
	// Channel-specific overrides that apply to all steps of a particular channel type. Step-level overrides take precedence over channel-level overrides.
	Channels *TriggerEventToAllRequestDtoChannels `json:"channels,omitempty"`
	// Overrides the provider configuration for the entire workflow and all steps
	Providers map[string]map[string]any `json:"providers,omitempty"`
	// Override the email provider specific configurations for the entire workflow
	//
	// Deprecated: This will be removed in a future release, please migrate away from it as soon as possible.
	Email map[string]any `json:"email,omitempty"`
	// Override the push provider specific configurations for the entire workflow
	//
	// Deprecated: This will be removed in a future release, please migrate away from it as soon as possible.
	Push map[string]any `json:"push,omitempty"`
	// Override the sms provider specific configurations for the entire workflow
	//
	// Deprecated: This will be removed in a future release, please migrate away from it as soon as possible.
	Sms map[string]any `json:"sms,omitempty"`
	// Override the chat provider specific configurations for the entire workflow
	//
	// Deprecated: This will be removed in a future release, please migrate away from it as soon as possible.
	Chat map[string]any `json:"chat,omitempty"`
	// Override the layout identifier for the entire workflow
	//
	// Deprecated: This will be removed in a future release, please migrate away from it as soon as possible.
	LayoutIdentifier *string `json:"layoutIdentifier,omitempty"`
	// Severity of the workflow
	Severity             *SeverityLevelEnum        `json:"severity,omitempty"`
	AdditionalProperties map[string]map[string]any `additionalProperties:"true" json:"-"`
}

func (t TriggerEventToAllRequestDtoOverrides) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(t, "", false)
}

func (t *TriggerEventToAllRequestDtoOverrides) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &t, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (t *TriggerEventToAllRequestDtoOverrides) GetSteps() map[string]StepsOverrides {
	if t == nil {
		return nil
	}
	return t.Steps
}

func (t *TriggerEventToAllRequestDtoOverrides) GetChannels() *TriggerEventToAllRequestDtoChannels {
	if t == nil {
		return nil
	}
	return t.Channels
}

func (t *TriggerEventToAllRequestDtoOverrides) GetProviders() map[string]map[string]any {
	if t == nil {
		return nil
	}
	return t.Providers
}

func (t *TriggerEventToAllRequestDtoOverrides) GetEmail() map[string]any {
	if t == nil {
		return nil
	}
	return t.Email
}

func (t *TriggerEventToAllRequestDtoOverrides) GetPush() map[string]any {
	if t == nil {
		return nil
	}
	return t.Push
}

func (t *TriggerEventToAllRequestDtoOverrides) GetSms() map[string]any {
	if t == nil {
		return nil
	}
	return t.Sms
}

func (t *TriggerEventToAllRequestDtoOverrides) GetChat() map[string]any {
	if t == nil {
		return nil
	}
	return t.Chat
}

func (t *TriggerEventToAllRequestDtoOverrides) GetLayoutIdentifier() *string {
	if t == nil {
		return nil
	}
	return t.LayoutIdentifier
}

func (t *TriggerEventToAllRequestDtoOverrides) GetSeverity() *SeverityLevelEnum {
	if t == nil {
		return nil
	}
	return t.Severity
}

func (t *TriggerEventToAllRequestDtoOverrides) GetAdditionalProperties() map[string]map[string]any {
	if t == nil {
		return nil
	}
	return t.AdditionalProperties
}

type TriggerEventToAllRequestDtoActorType string

const (
	TriggerEventToAllRequestDtoActorTypeStr                  TriggerEventToAllRequestDtoActorType = "str"
	TriggerEventToAllRequestDtoActorTypeSubscriberPayloadDto TriggerEventToAllRequestDtoActorType = "SubscriberPayloadDto"
)

// TriggerEventToAllRequestDtoActor - It is used to display the Avatar of the provided actor's subscriber id or actor object.
//
//	If a new actor object is provided, we will create a new subscriber in our system
type TriggerEventToAllRequestDtoActor struct {
	Str                  *string               `queryParam:"inline,name=actor"`
	SubscriberPayloadDto *SubscriberPayloadDto `queryParam:"inline,name=actor"`

	Type TriggerEventToAllRequestDtoActorType
}

func CreateTriggerEventToAllRequestDtoActorStr(str string) TriggerEventToAllRequestDtoActor {
	typ := TriggerEventToAllRequestDtoActorTypeStr

	return TriggerEventToAllRequestDtoActor{
		Str:  &str,
		Type: typ,
	}
}

func CreateTriggerEventToAllRequestDtoActorSubscriberPayloadDto(subscriberPayloadDto SubscriberPayloadDto) TriggerEventToAllRequestDtoActor {
	typ := TriggerEventToAllRequestDtoActorTypeSubscriberPayloadDto

	return TriggerEventToAllRequestDtoActor{
		SubscriberPayloadDto: &subscriberPayloadDto,
		Type:                 typ,
	}
}

func (u *TriggerEventToAllRequestDtoActor) UnmarshalJSON(data []byte) error {

	var subscriberPayloadDto SubscriberPayloadDto = SubscriberPayloadDto{}
	if err := utils.UnmarshalJSON(data, &subscriberPayloadDto, "", true, nil); err == nil {
		u.SubscriberPayloadDto = &subscriberPayloadDto
		u.Type = TriggerEventToAllRequestDtoActorTypeSubscriberPayloadDto
		return nil
	}

	var str string = ""
	if err := utils.UnmarshalJSON(data, &str, "", true, nil); err == nil {
		u.Str = &str
		u.Type = TriggerEventToAllRequestDtoActorTypeStr
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for TriggerEventToAllRequestDtoActor", string(data))
}

func (u TriggerEventToAllRequestDtoActor) MarshalJSON() ([]byte, error) {
	if u.Str != nil {
		return utils.MarshalJSON(u.Str, "", true)
	}

	if u.SubscriberPayloadDto != nil {
		return utils.MarshalJSON(u.SubscriberPayloadDto, "", true)
	}

	return nil, errors.New("could not marshal union type TriggerEventToAllRequestDtoActor: all fields are null")
}

type TriggerEventToAllRequestDtoTenantType string

const (
	TriggerEventToAllRequestDtoTenantTypeStr              TriggerEventToAllRequestDtoTenantType = "str"
	TriggerEventToAllRequestDtoTenantTypeTenantPayloadDto TriggerEventToAllRequestDtoTenantType = "TenantPayloadDto"
)

// TriggerEventToAllRequestDtoTenant - It is used to specify a tenant context during trigger event.
//
//	If a new tenant object is provided, we will create a new tenant.
type TriggerEventToAllRequestDtoTenant struct {
	Str              *string           `queryParam:"inline,name=tenant"`
	TenantPayloadDto *TenantPayloadDto `queryParam:"inline,name=tenant"`

	Type TriggerEventToAllRequestDtoTenantType
}

func CreateTriggerEventToAllRequestDtoTenantStr(str string) TriggerEventToAllRequestDtoTenant {
	typ := TriggerEventToAllRequestDtoTenantTypeStr

	return TriggerEventToAllRequestDtoTenant{
		Str:  &str,
		Type: typ,
	}
}

func CreateTriggerEventToAllRequestDtoTenantTenantPayloadDto(tenantPayloadDto TenantPayloadDto) TriggerEventToAllRequestDtoTenant {
	typ := TriggerEventToAllRequestDtoTenantTypeTenantPayloadDto

	return TriggerEventToAllRequestDtoTenant{
		TenantPayloadDto: &tenantPayloadDto,
		Type:             typ,
	}
}

func (u *TriggerEventToAllRequestDtoTenant) UnmarshalJSON(data []byte) error {

	var str string = ""
	if err := utils.UnmarshalJSON(data, &str, "", true, nil); err == nil {
		u.Str = &str
		u.Type = TriggerEventToAllRequestDtoTenantTypeStr
		return nil
	}

	var tenantPayloadDto TenantPayloadDto = TenantPayloadDto{}
	if err := utils.UnmarshalJSON(data, &tenantPayloadDto, "", true, nil); err == nil {
		u.TenantPayloadDto = &tenantPayloadDto
		u.Type = TriggerEventToAllRequestDtoTenantTypeTenantPayloadDto
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for TriggerEventToAllRequestDtoTenant", string(data))
}

func (u TriggerEventToAllRequestDtoTenant) MarshalJSON() ([]byte, error) {
	if u.Str != nil {
		return utils.MarshalJSON(u.Str, "", true)
	}

	if u.TenantPayloadDto != nil {
		return utils.MarshalJSON(u.TenantPayloadDto, "", true)
	}

	return nil, errors.New("could not marshal union type TriggerEventToAllRequestDtoTenant: all fields are null")
}

// Context2 - Rich context object with id and optional data
type Context2 struct {
	ID string `json:"id"`
	// Optional additional context data
	Data map[string]any `json:"data,omitempty"`
}

func (c Context2) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *Context2) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, []string{"id"}); err != nil {
		return err
	}
	return nil
}

func (c *Context2) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *Context2) GetData() map[string]any {
	if c == nil {
		return nil
	}
	return c.Data
}

type TriggerEventToAllRequestDtoContextType string

const (
	TriggerEventToAllRequestDtoContextTypeStr      TriggerEventToAllRequestDtoContextType = "str"
	TriggerEventToAllRequestDtoContextTypeContext2 TriggerEventToAllRequestDtoContextType = "context_2"
)

type TriggerEventToAllRequestDtoContext struct {
	Str      *string   `queryParam:"inline,name=context"`
	Context2 *Context2 `queryParam:"inline,name=context"`

	Type TriggerEventToAllRequestDtoContextType
}

func CreateTriggerEventToAllRequestDtoContextStr(str string) TriggerEventToAllRequestDtoContext {
	typ := TriggerEventToAllRequestDtoContextTypeStr

	return TriggerEventToAllRequestDtoContext{
		Str:  &str,
		Type: typ,
	}
}

func CreateTriggerEventToAllRequestDtoContextContext2(context2 Context2) TriggerEventToAllRequestDtoContext {
	typ := TriggerEventToAllRequestDtoContextTypeContext2

	return TriggerEventToAllRequestDtoContext{
		Context2: &context2,
		Type:     typ,
	}
}

func (u *TriggerEventToAllRequestDtoContext) UnmarshalJSON(data []byte) error {

	var context2 Context2 = Context2{}
	if err := utils.UnmarshalJSON(data, &context2, "", true, nil); err == nil {
		u.Context2 = &context2
		u.Type = TriggerEventToAllRequestDtoContextTypeContext2
		return nil
	}

	var str string = ""
	if err := utils.UnmarshalJSON(data, &str, "", true, nil); err == nil {
		u.Str = &str
		u.Type = TriggerEventToAllRequestDtoContextTypeStr
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for TriggerEventToAllRequestDtoContext", string(data))
}

func (u TriggerEventToAllRequestDtoContext) MarshalJSON() ([]byte, error) {
	if u.Str != nil {
		return utils.MarshalJSON(u.Str, "", true)
	}

	if u.Context2 != nil {
		return utils.MarshalJSON(u.Context2, "", true)
	}

	return nil, errors.New("could not marshal union type TriggerEventToAllRequestDtoContext: all fields are null")
}

type TriggerEventToAllRequestDto struct {
	// The trigger identifier associated for the template you wish to send. This identifier can be found on the template page.
	Name string `json:"name"`
	// The payload object is used to pass additional information that
	//     could be used to render the template, or perform routing rules based on it.
	//       For In-App channel, payload data are also available in <Inbox />
	Payload map[string]any `json:"payload"`
	// This could be used to override provider specific configurations
	Overrides *TriggerEventToAllRequestDtoOverrides `json:"overrides,omitempty"`
	// A unique identifier for this transaction, we will generated a UUID if not provided.
	TransactionID *string `json:"transactionId,omitempty"`
	// It is used to display the Avatar of the provided actor's subscriber id or actor object.
	//     If a new actor object is provided, we will create a new subscriber in our system
	//
	Actor *TriggerEventToAllRequestDtoActor `json:"actor,omitempty"`
	// It is used to specify a tenant context during trigger event.
	//     If a new tenant object is provided, we will create a new tenant.
	//
	Tenant  *TriggerEventToAllRequestDtoTenant            `json:"tenant,omitempty"`
	Context map[string]TriggerEventToAllRequestDtoContext `json:"context,omitempty"`
}

func (t *TriggerEventToAllRequestDto) GetName() string {
	if t == nil {
		return ""
	}
	return t.Name
}

func (t *TriggerEventToAllRequestDto) GetPayload() map[string]any {
	if t == nil {
		return map[string]any{}
	}
	return t.Payload
}

func (t *TriggerEventToAllRequestDto) GetOverrides() *TriggerEventToAllRequestDtoOverrides {
	if t == nil {
		return nil
	}
	return t.Overrides
}

func (t *TriggerEventToAllRequestDto) GetTransactionID() *string {
	if t == nil {
		return nil
	}
	return t.TransactionID
}

func (t *TriggerEventToAllRequestDto) GetActor() *TriggerEventToAllRequestDtoActor {
	if t == nil {
		return nil
	}
	return t.Actor
}

func (t *TriggerEventToAllRequestDto) GetTenant() *TriggerEventToAllRequestDtoTenant {
	if t == nil {
		return nil
	}
	return t.Tenant
}

func (t *TriggerEventToAllRequestDto) GetContext() map[string]TriggerEventToAllRequestDtoContext {
	if t == nil {
		return nil
	}
	return t.Context
}
